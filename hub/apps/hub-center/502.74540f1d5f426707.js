"use strict";(self.webpackChunkhub_center=self.webpackChunkhub_center||[]).push([[502],{3502:(F,c,t)=>{t.r(c),t.d(c,{LoginModule:()=>Z});var m=t(1896),s=t(95),z=t(4716),C=t(5359),n=t(5879),d=t(3517),x=t(4575),p=t(2561),u=t(2920),a=t(3649),l=t(824),f=t(2840),y=t(855),T=t(1958),v=t(551);function P(i,J){if(1&i){const o=n.EpF();n.TgZ(0,"span",14),n.NdJ("click",function(){n.CHM(o);const e=n.oxw();return n.KtG(e.passwordVisible=!e.passwordVisible)}),n.qZA()}if(2&i){const o=n.oxw();n.Q6J("nzType",o.passwordVisible?"eye-invisible":"eye")}}const L={path:"",component:(()=>{class i{constructor(o,r,e,g,b){this.fb=o,this.apiUserService=r,this.router=e,this.localStorageService=g,this.notification=b,this.passwordVisible=!1,this.isLoading=!1,this.validateForm=this.fb.group({userName:["",[s.kI.required]],password:["",[s.kI.required]],remember:[!0]}),this.localStorageService.getItem(C.t.ACCESS_TOKEN)&&this.router.navigate(["/adv/device"])}submitForm(){if(this.validateForm.valid){this.isLoading=!0;const o=this.validateForm.value;this.apiUserService.login({username:o.userName,password:o.password}).pipe((0,z.x)(()=>{this.isLoading=!1})).subscribe({next:()=>{this.notification.create("success","Th\xf4ng b\xe1o","\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!!!",{nzDuration:2e3}),this.router.navigate(["adv/device"])},error:e=>{console.log(e),this.notification.create("error","Th\xf4ng b\xe1o",e,{nzDuration:2e3})}})}else Object.values(this.validateForm.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}static#n=this.\u0275fac=function(r){return new(r||i)(n.Y36(s.qu),n.Y36(d._),n.Y36(m.F0),n.Y36(x.n),n.Y36(p.zb))};static#t=this.\u0275cmp=n.Xpm({type:i,selectors:[["adv-login"]],decls:18,vars:5,consts:[[1,"login-container"],[1,"login-logo"],["src","assets/images/logo.svg","alt",""],[1,"mx-2","mt-2"],["nz-form","",1,"login-form",3,"formGroup","ngSubmit"],["nzErrorTip","Please input your username!"],["nzPrefixIcon","user","nzSize","large"],["type","text","nz-input","","formControlName","userName","placeholder","Username"],[1,"py-2"],["nzErrorTip","Please input your Password!"],["nzPrefixIcon","lock","nzSize","large",3,"nzSuffix"],["nz-input","","formControlName","password","placeholder","Password",3,"type"],["suffixTemplate",""],["nz-button","","nzSize","large",1,"login-form-button","login-form-margin",3,"nzLoading","nzType"],["nz-icon","",3,"nzType","click"]],template:function(r,e){if(1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"img",2),n.TgZ(3,"h4",3),n._uU(4,"ADV CMS"),n.qZA()(),n.TgZ(5,"form",4),n.NdJ("ngSubmit",function(){return e.submitForm()}),n.TgZ(6,"nz-form-item")(7,"nz-form-control",5)(8,"nz-input-group",6),n._UZ(9,"input",7),n.qZA()()(),n.TgZ(10,"nz-form-item",8)(11,"nz-form-control",9)(12,"nz-input-group",10),n._UZ(13,"input",11),n.qZA(),n.YNc(14,P,1,1,"ng-template",null,12,n.W1O),n.qZA()(),n.TgZ(16,"button",13),n._uU(17," Log in "),n.qZA()()()),2&r){const g=n.MAs(15);n.xp6(5),n.Q6J("formGroup",e.validateForm),n.xp6(7),n.Q6J("nzSuffix",g),n.xp6(1),n.Q6J("type",e.passwordVisible?"text":"password"),n.xp6(3),n.Q6J("nzLoading",e.isLoading)("nzType","primary")}},dependencies:[u.t3,u.SK,a.Lr,a.Nx,a.Fd,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,l.Zp,l.gB,l.ke,f.ix,y.w,T.dQ,v.Ls],styles:[".login-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;background-size:cover}.login-container[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:350px}.login-container[_ngcontent-%COMP%]   .login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-container[_ngcontent-%COMP%]   .login-form-margin[_ngcontent-%COMP%]   .remember-text[_ngcontent-%COMP%]{white-space:nowrap}.login-container[_ngcontent-%COMP%]   .login-form-forgot[_ngcontent-%COMP%]{float:right}.login-container[_ngcontent-%COMP%]   .login-form-button[_ngcontent-%COMP%]{width:100%;border:none}"]})}return i})(),data:{pageTitle:"login.title"}};var S=t(2612),h=t(9862),M=t(491),O=t(9818);let Z=(()=>{class i{static#n=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=n.oAB({type:i});static#o=this.\u0275inj=n.cJS({providers:[d._,{provide:M.q,useValue:O.N},p.zb],imports:[m.Bz.forChild([L]),a.U5,s.UX,l.o7,f.sL,S.Wr,h.Ed,h.JF,v.PV]})}return i})()}}]);