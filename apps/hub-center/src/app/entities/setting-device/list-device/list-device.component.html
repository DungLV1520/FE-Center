<div class="user-list-wrapper">
  <div class="filter-header">
    <div class="search-box">
      <nz-input-group [nzSuffix]="suffixIconSearch" nzSize="large">
        <input
          type="text"
          nz-input
          placeholder="Tìm kiếm theo tên, series thiết bị"
        />
      </nz-input-group>
      <ng-template #suffixIconSearch>
        <span nz-icon nzType="search"></span>
      </ng-template>
    </div>
    <div class="btn-action-group">
      <button
        nz-button
        nzType="default"
        class="create-team"
        nzSize="large"
        (click)="onShowModeTable()"
      >
        <ng-container *ngIf="!isModeViewTable">
          <span nz-icon nzType="table" nzTheme="outline"></span>
          <span>Chế độ xem: bảng</span>
        </ng-container>
        <ng-container *ngIf="isModeViewTable">
          <span nz-icon nzType="appstore" nzTheme="outline"></span>
          <span>Chế độ xem: lưới</span>
        </ng-container>
      </button>
      <button nz-button nzType="default" class="create-team" nzSize="large">
        <span nz-icon nzType="reload" nzTheme="outline"></span>
        <span>Cập nhật danh sách</span>
      </button>
    </div>
  </div>
  <div class="device-info">
    <nz-tag>Tổng: 130</nz-tag>
    <nz-tag [nzColor]="'green'">Đang hoạt động: 100</nz-tag>
    <nz-tag [nzColor]="'red'">Mất kết nối: 30</nz-tag>
  </div>
  <div *ngIf="isModeViewTable" class="table-body" style="overflow: auto">
    <nz-table
      #filterTable
      [nzFrontPagination]="false"
      [nzShowPagination]="false"
      [nzData]="devices"
    >
      <thead>
        <tr>
          <th
            *ngFor="let column of listOfColumn"
            [ngStyle]="{
              width: column.priority === 0 ? '68px' : '100%',
              whiteSpace: 'nowrap'
            }"
          >
            {{ column.title }}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of devices; let i = index">
          <td nz>{{ i + 1 }}</td>
          <td>
            <nz-tag>{{ data.name }}</nz-tag>
          </td>
          <td>
            <a>{{ data.location }}</a>
          </td>
          <td>
            <nz-tag [nzColor]="data.status === 'ACTIVE' ? 'green' : 'red'">{{
              data.status
            }}</nz-tag>
          </td>
          <td>
            <nz-tag [nzColor]="data.available ? 'green' : 'red'">{{
              data.available ? 'Online' : 'Offline'
            }}</nz-tag>
          </td>
          <td>{{ data.description }}</td>
          <td>{{ data.identityDevice }}</td>
          <td>
            <nz-tag [nzColor]="'geekblue'">{{ data.timeOffAgo }}</nz-tag>
          </td>
          <td>{{ data.insDatetime | date : 'dd/MM/yyyy hh:mm' }}</td>
          <td>{{ data.updDatetime | date : 'dd/MM/yyyy hh:mm' }}</td>
        </tr>
      </tbody>
    </nz-table>
  </div>
  <div *ngIf="!isModeViewTable" class="grid-body">
    <div class="grid-item" nz-popover nzPopoverTitle="Title" [nzPopoverContent]="contentTemplate" nzPopoverTrigger="hover" [nzPopoverMouseEnterDelay]="1.5">
      <div class="device-name">Màn hình thang máy 1</div>
      <div class="device-status">
        <span nz-icon>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="8" cy="8" r="8" fill="#52C41A" />
          </svg>
        </span>
        <span class="time-desc">10:10 20/03/2022</span>
      </div>
      <div class="device-play-desc">
        <nz-tag [nzColor]="'#5F7EEB'">Đang trình chiếu</nz-tag>
      </div>
    </div>
    <div class="grid-item">
      <div class="device-name">Màn hình thang máy 1</div>
      <div class="device-status">
        <span nz-icon>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="8" cy="8" r="8" fill="#52C41A" />
          </svg>
        </span>
        <span class="time-desc">10:10 20/03/2022</span>
      </div>
      <div class="device-play-desc">
        <nz-tag [nzColor]="'#5F7EEB'">Đang trình chiếu</nz-tag>
      </div>
    </div>
    <div class="grid-item">
      <div class="device-name">Màn hình thang máy 1</div>
      <div class="device-status">
        <span nz-icon>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="8" cy="8" r="8" fill="#52C41A" />
          </svg>
        </span>
        <span class="time-desc">10:10 20/03/2022</span>
      </div>
      <div class="device-play-desc">
        <nz-tag [nzColor]="'#5F7EEB'">Đang trình chiếu</nz-tag>
      </div>
    </div>
    <div class="grid-item">
      <div class="device-name">Màn hình thang máy 1</div>
      <div class="device-status">
        <span nz-icon>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="8" cy="8" r="8" fill="#52C41A" />
          </svg>
        </span>
        <span class="time-desc">10:10 20/03/2022</span>
      </div>
      <div class="device-play-desc">
        <nz-tag [nzColor]="'#5F7EEB'">Đang trình chiếu</nz-tag>
      </div>
    </div>
    <div class="grid-item">
      <div class="device-name">Màn hình thang máy 1</div>
      <div class="device-status">
        <span nz-icon>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="8" cy="8" r="8" fill="#52C41A" />
          </svg>
        </span>
        <span class="time-desc">10:10 20/03/2022</span>
      </div>
      <div class="device-play-desc">
        <nz-tag [nzColor]="'#5F7EEB'">Đang trình chiếu</nz-tag>
      </div>
    </div>
    <div class="grid-item">
      <div class="device-name">Màn hình thang máy 1</div>
      <div class="device-status">
        <span nz-icon>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="8" cy="8" r="8" fill="#F5222D" />
          </svg>
        </span>
        <span class="time-desc">10:10 20/03/2022</span>
      </div>
      <div class="device-play-desc">
        <nz-tag [nzColor]="'#D9D9D9'">Không trình chiếu</nz-tag>
      </div>
    </div>
    <ng-template #contentTemplate>
      <div>
        <p>Content</p>
        <p>Content</p>
      </div>
    </ng-template>
  </div>
</div>
<hub-loading></hub-loading>
