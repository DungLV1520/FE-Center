"use strict";(self.webpackChunkhub_center=self.webpackChunkhub_center||[]).push([[502],{3502:(V,c,t)=>{t.r(c),t.d(c,{LoginModule:()=>J});var u=t(768),a=t(6223),C=t(4716),T=t(5359),n=t(5879),m=t(3517),E=t(4575),d=t(2078),f=t(95),s=t(3599),g=t(824),p=t(2840),x=t(855),y=t(1958),h=t(551);function L(e,I){if(1&e){const o=n.EpF();n.TgZ(0,"span",14),n.NdJ("click",function(){n.CHM(o);const i=n.oxw();return n.KtG(i.passwordVisible=!i.passwordVisible)}),n.qZA()}if(2&e){const o=n.oxw();n.Q6J("nzType",o.passwordVisible?"eye-invisible":"eye")}}const S={path:"",component:(()=>{class e{constructor(o,r,i,l,N){this.fb=o,this.apiUserService=r,this.router=i,this.localStorageService=l,this.notification=N,this.passwordVisible=!1,this.isLoading=!1,this.validateForm=this.fb.group({userName:["",[a.kI.required]],password:["",[a.kI.required]],remember:[!0]}),this.localStorageService.getItem(T.t.ACCESS_TOKEN)&&this.router.navigate(["/adv/device"])}submitForm(){if(this.validateForm.valid){this.isLoading=!0;const o=this.validateForm.value;this.apiUserService.login({username:o.userName,password:o.password}).pipe((0,C.x)(()=>{this.isLoading=!1})).subscribe({next:i=>{i?.result?.ok?(localStorage.setItem("navigate","true"),this.notification.create("success","Th\xf4ng b\xe1o","\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng!!!",{nzDuration:2e3}),this.router.navigate(["adv/device"])):this.notification.create("error","Th\xf4ng b\xe1o",i?.result?.message,{nzDuration:2e3})},error:i=>{this.notification.create("error","Th\xf4ng b\xe1o",i,{nzDuration:2e3})}})}else Object.values(this.validateForm.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))})}static#n=this.\u0275fac=function(r){return new(r||e)(n.Y36(a.qu),n.Y36(m._),n.Y36(u.F0),n.Y36(E.n),n.Y36(d.zb))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["adv-login"]],decls:18,vars:5,consts:[[1,"login-container"],[1,"login-logo"],["src","assets/images/logo.svg","alt",""],[1,"mt-2"],["nz-form","",1,"login-form",3,"formGroup","ngSubmit"],["nzErrorTip","T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"],["nzPrefixIcon","user","nzSize","large"],["type","text","nz-input","","formControlName","userName","placeholder","T\xean \u0111\u0103ng nh\u1eadp"],[1,"py-2"],["nzErrorTip","M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng!"],["nzPrefixIcon","lock","nzSize","large",3,"nzSuffix"],["nz-input","","formControlName","password","placeholder","M\u1eadt kh\u1ea9u",3,"type"],["suffixTemplate",""],["nz-button","","nzSize","large",1,"login-form-button","login-form-margin",3,"nzLoading","nzType"],["nz-icon","",3,"nzType","click"]],template:function(r,i){if(1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"img",2),n.TgZ(3,"h4",3),n._uU(4,"ADV CMS"),n.qZA()(),n.TgZ(5,"form",4),n.NdJ("ngSubmit",function(){return i.submitForm()}),n.TgZ(6,"nz-form-item")(7,"nz-form-control",5)(8,"nz-input-group",6),n._UZ(9,"input",7),n.qZA()()(),n.TgZ(10,"nz-form-item",8)(11,"nz-form-control",9)(12,"nz-input-group",10),n._UZ(13,"input",11),n.qZA(),n.YNc(14,L,1,1,"ng-template",null,12,n.W1O),n.qZA()(),n.TgZ(16,"button",13),n._uU(17," \u0110\u0103ng nh\u1eadp "),n.qZA()()()),2&r){const l=n.MAs(15);n.xp6(5),n.Q6J("formGroup",i.validateForm),n.xp6(7),n.Q6J("nzSuffix",l),n.xp6(1),n.Q6J("type",i.passwordVisible?"text":"password"),n.xp6(3),n.Q6J("nzLoading",i.isLoading)("nzType","primary")}},dependencies:[f.t3,f.SK,s.Lr,s.Nx,s.Fd,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,g.Zp,g.gB,g.ke,p.ix,x.w,y.dQ,h.Ls],styles:[".login-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;background-size:cover}.login-container[_ngcontent-%COMP%]   .login-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login-container[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:350px}.login-container[_ngcontent-%COMP%]   .login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-container[_ngcontent-%COMP%]   .login-form-margin[_ngcontent-%COMP%]   .remember-text[_ngcontent-%COMP%]{white-space:nowrap}.login-container[_ngcontent-%COMP%]   .login-form-forgot[_ngcontent-%COMP%]{float:right}.login-container[_ngcontent-%COMP%]   .login-form-button[_ngcontent-%COMP%]{width:100%;border:none}"]})}return e})(),data:{pageTitle:"login.title"}};var A=t(2612),v=t(9862),M=t(491),F=t(9818),z=t(6050),O=t(6814),Z=t(9747),P=t(7933),b=t(4939),D=t(2096);(0,O.qS)(Z.Z);let J=(()=>{class e{constructor(o){this.i18n=o,this.i18n.setLocale(z.L$)}static#n=this.\u0275fac=function(r){return new(r||e)(n.LFG(z.wi))};static#t=this.\u0275mod=n.oAB({type:e});static#o=this.\u0275inj=n.cJS({providers:[m._,{provide:M.q,useValue:F.N},d.zb,{provide:P.Co,useValue:(0,D.of)(b.rg)}],imports:[u.Bz.forChild([S]),s.U5,a.UX,g.o7,p.sL,A.Wr,v.Ed,v.JF,h.PV]})}return e})()}}]);