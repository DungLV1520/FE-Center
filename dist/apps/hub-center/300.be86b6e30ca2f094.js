"use strict";(self.webpackChunkhub_center=self.webpackChunkhub_center||[]).push([[300],{300:(it,u,n)=>{n.r(u),n.d(u,{PresentationSlideComponent:()=>nt});var p=n(6814),m=n(2840),C=n(551),d=n(824),h=n(2787),_=n(2851),S=n(9691),g=n(6223),T=n(2962),f=n(3217),y=n(3599),Z=n(2612),b=n(804),F=n(1490),P=n(2078),z=n(2274),l=n(9663),O=n(5695),E=n(6819);const A=[{title:"STT",priority:0,listOfFilter:[],filterFn:null,filterMultiple:!0},{title:"T\xean l\u1ecbch",priority:1,listOfFilter:[],filterFn:null,filterMultiple:!0},{title:"Th\u1eddi gian ch\u1ea1y",priority:2,listOfFilter:[],filterFn:null,filterMultiple:!0},{title:"S\u1ed1 l\u01b0\u1ee3ng t\u1ec7p",priority:3,listOfFilter:[],filterFn:null,filterMultiple:!0},{title:"T\u1ed5ng th\u1eddi gian",priority:4,listOfFilter:[],filterFn:null,filterMultiple:!0},{title:"Thi\u1ebft b\u1ecb \xe1p d\u1ee5ng",priority:6,listOfFilter:[],filterFn:null,filterMultiple:!0},{title:"",priority:7,listOfFilter:[],filterFn:null,filterMultiple:!0}];var U=n(7417),I=n(6685),w=n(7480),j=n(631),x=n(368),L=n(167),D=n(2503),N=n(3620),v=n(4716),J=n(9397),Q=n(6306),B=n(8504),t=n(5879),K=n(3517),Y=n(768),$=n(7099),G=n(855),H=n(1958),M=n(2987),X=n(8989);const R=["preview"];function W(a,c){1&a&&t._UZ(0,"span",18)}const V=function(){return{whiteSpace:"nowrap"}};function k(a,c){if(1&a&&(t.TgZ(0,"th",19),t._uU(1),t.qZA()),2&a){const e=c.$implicit;t.Q6J("ngStyle",t.DdM(2,V)),t.xp6(1),t.hij(" ",e.title," ")}}function q(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editPresentation(r,"edit"))}),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",22),t._UZ(14,"span",23),t.TgZ(15,"nz-dropdown-menu",null,24)(17,"ul",25)(18,"li",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editPresentation(r,"edit"))}),t._uU(19," Ch\u1ec9nh s\u1eeda "),t.qZA(),t.TgZ(20,"li",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editPresentation(r,"copy"))}),t._uU(21," T\u1ea1o b\u1ea3n sao "),t.qZA(),t.TgZ(22,"li",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onConfirmDeleteFile(r))}),t._uU(23," Xo\xe1 "),t.qZA()()()()()}if(2&a){const e=c.$implicit,i=c.index,o=t.MAs(16);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ","FLEXIBLE_TIME"===e.runTimeType?"Tu\u1ef3 ch\u1ec9nh":"C\u1ea3 ng\xe0y"," "),t.xp6(2),t.Oqu(e.totalDoc),t.xp6(2),t.Oqu(e.totalDuration),t.xp6(2),t.Oqu(e.totalDeviceApply),t.xp6(2),t.Q6J("nzDropdownMenu",o)}}function tt(a,c){if(1&a&&t._uU(0),2&a){const e=t.oxw();t.hij("T\u1ed5ng: ",e.totalElements," k\u1ebft qu\u1ea3")}}let nt=(()=>{class a{constructor(e,i,o,r,s,et){this.apiUserService=e,this.route=i,this.router=o,this.notification=r,this.loadingService=s,this.modal=et,this.size="large",this.listOfColumn=A,this.totalItems=0,this.pageIndex=0,this.pageSize=10,this.index=0,this.length=2,this.searchForm=new g.NI}ngOnInit(){this.getListPresentationSlide({page:0,size:this.pageSize}),this.searchForm.valueChanges.pipe((0,N.b)(500)).subscribe(i=>{this.getListPresentationSlide({page:0,size:this.pageSize,name:i})})}getListPresentationSlide(e){this.loadingService.showLoading(),this.apiUserService.getListPresentationSlide(e).pipe((0,v.x)(()=>{this.loadingService.hideLoading()})).subscribe(i=>{this.presentationSlide=i?.data?.content,this.presentationSlideOrigin=i?.data?.content,this.totalElements=i?.data?.totalElements??0,this.pageIndex=i?.data?.pageable?.pageNumber??0})}deleteFile(e){this.loadingService.showLoading(),this.apiUserService.deletePresentationSlide(e.id).pipe((0,J.b)(i=>{!0===i.result.ok&&this.notification.success("Th\xf4ng b\xe1o","Xo\xe1 th\xe0nh c\xf4ng!!!",{nzDuration:2e3})}),(0,Q.K)(i=>(this.loadingService.hideLoading(),(0,B._)(i?.error?.result?.message))),(0,v.x)(()=>{this.getListPresentationSlide({page:0,size:this.pageSize}),this.loadingService.hideLoading()})).subscribe()}onConfirmDeleteFile(e){this.modal.confirm({nzTitle:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n xo\xe1 l\u1ecbch tr\xecnh chi\u1ebfu?",nzContent:`T\xean:  ${e.name}`,nzCancelText:"Kh\xf4ng",nzOkText:"\u0110\u1ed3ng \xfd",nzOnOk:()=>{this.presentationSlide=this.presentationSlide.filter(i=>i.id!==e.id),this.modal.success({nzTitle:"Xo\xe1 l\u1ecbch tr\xecnh chi\u1ebfu th\xe0nh c\xf4ng!!!",nzContent:`T\xean: ${e.name}`,nzCancelText:"Kh\xf4i ph\u1ee5c",nzOkText:"\u0110\xf3ng",nzOnOk:()=>{this.deleteFile(e)},nzOnCancel:()=>{this.presentationSlide=[...this.presentationSlideOrigin],this.notification.success("Th\xf4ng b\xe1o","Kh\xf4i ph\u1ee5c l\u1ecbch tr\xecnh chi\u1ebfu th\xe0nh c\xf4ng",{nzDuration:2e3})}})}})}onPageIndexChange(e){this.pageIndex=e-1,this.getListPresentationSlide({page:this.pageIndex,size:this.pageSize})}onPageSizeChange(e){this.pageSize=e,this.getListPresentationSlide({page:this.pageIndex,size:this.pageSize})}createPresentation(){this.apiUserService.sendData(["Tr\xecnh chi\u1ebfu","T\u1ea1o l\u1ecbch tr\xecnh chi\u1ebfu"]),this.router.navigate(["adv/create-presentation-slide"])}editPresentation(e,i){this.router.navigate(["adv/create-presentation-slide"],{queryParams:{scheduleId:e.id,name:e.name,deviceId:e.deviceId,type:i}})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(K._),t.Y36(I.iK),t.Y36(Y.F0),t.Y36(P.zb),t.Y36($.b),t.Y36(f.Sf))};static#n=this.\u0275cmp=t.Xpm({type:a,selectors:[["adv-list-file"]],viewQuery:function(i,o){if(1&i&&t.Gf(R,5),2&i){let r;t.iGM(r=t.CRH())&&(o.index=r.first)}},standalone:!0,features:[t._Bn([P.zb]),t.jDz],decls:30,vars:12,consts:[[1,"user-list-wrapper"],[1,"filter-header"],[1,"search-box"],["nzSize","large",3,"nzSuffix"],["type","text","nz-input","","placeholder","T\xecm ki\u1ebfm theo t\xean l\u1ecbch tr\xecnh chi\u1ebfu",3,"formControl"],["suffixIconSearch",""],[1,"btn-action-group"],["nz-button","","nzType","default","nzSize","large",1,"create-team",3,"click"],["nz-icon","","nzType","calendar","nzTheme","outline"],[1,"device-info"],[1,"table-body",2,"overflow","auto"],[3,"nzFrontPagination","nzShowPagination","nzData"],["filterTable",""],[3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"pagination-footer","mt-4"],["nzShowSizeChanger","",3,"nzPageIndex","nzTotal","nzPageSize","nzShowTotal","nzPageIndexChange","nzPageSizeChange"],["totalTemplate",""],["nz-icon","","nzType","search"],[3,"ngStyle"],["nz",""],[2,"cursor","pointer",3,"click"],[1,"text-center"],["nz-icon","","nzType","ellipsis","nz-dropdown","","nzPlacement","bottomRight",2,"transform","rotate(90deg)",3,"nzDropdownMenu"],["menu2","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-menu-item","",2,"color","red",3,"click"]],template:function(i,o){if(1&i&&(t._UZ(0,"hub-loading"),t.TgZ(1,"tui-root")(2,"div",0)(3,"div",1)(4,"div",2)(5,"nz-input-group",3),t._UZ(6,"input",4),t.qZA(),t.YNc(7,W,1,0,"ng-template",null,5,t.W1O),t.qZA(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return o.createPresentation()}),t._UZ(11,"span",8),t.TgZ(12,"span"),t._uU(13,"Th\xeam l\u1ecbch"),t.qZA()()()(),t.TgZ(14,"div",9)(15,"div")(16,"nz-tag"),t._uU(17),t.qZA()()(),t.TgZ(18,"div",10)(19,"nz-table",11,12)(21,"thead")(22,"tr"),t.YNc(23,k,2,3,"th",13),t.qZA()(),t.TgZ(24,"tbody"),t.YNc(25,q,24,7,"tr",14),t.qZA()()(),t.TgZ(26,"div",15)(27,"nz-pagination",16),t.NdJ("nzPageIndexChange",function(s){return o.onPageIndexChange(s)})("nzPageSizeChange",function(s){return o.onPageSizeChange(s)}),t.qZA(),t.YNc(28,tt,1,1,"ng-template",null,17,t.W1O),t.qZA()()()),2&i){const r=t.MAs(8),s=t.MAs(29);t.xp6(5),t.Q6J("nzSuffix",r),t.xp6(1),t.Q6J("formControl",o.searchForm),t.xp6(11),t.hij("T\u1ed5ng: ",o.totalElements," l\u1ecbch"),t.xp6(2),t.Q6J("nzFrontPagination",!1)("nzShowPagination",!1)("nzData",o.presentationSlide),t.xp6(4),t.Q6J("ngForOf",o.listOfColumn),t.xp6(2),t.Q6J("ngForOf",o.presentationSlide),t.xp6(2),t.Q6J("nzPageIndex",o.pageIndex+1)("nzTotal",o.totalElements)("nzPageSize",o.pageSize)("nzShowTotal",s)}},dependencies:[p.ez,p.sg,p.PC,g.u5,g.Fj,g.JJ,m.sL,m.ix,G.w,H.dQ,C.PV,C.Ls,d.o7,d.Zp,d.gB,d.ke,h.b1,M.wO,M.r9,h.cm,h.RR,_.cq,S.LV,T.vh,f.Qp,y.U5,g.UX,g.oH,Z.Wr,b.Xo,F.U,X.N,z.uK,z.dE,l.HQ,l.N8,l.Uo,l._C,l.Om,l.p0,l.$Z,O.X,O.j,E.Hb,U.$6,x.W,x.G,w.E6,j.fN,L.Q,D.go],styles:["[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .filter-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .filter-header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{min-width:432px}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .filter-header[_ngcontent-%COMP%]   .btn-action-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;align-items:center}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .device-info[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:16px;display:flex;justify-content:space-between}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{flex:1;background:white}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .grid-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:16px 24px}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .grid-body[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{cursor:pointer;padding:16px;background:white;display:flex;flex-direction:column;gap:16px;border:1px solid rgba(0,0,0,.0588235294);justify-content:space-between;border-radius:8px}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .grid-body[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .device-name[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;text-align:left}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .grid-body[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .device-status[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:10px;height:200px}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .grid-body[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .device-status[_ngcontent-%COMP%]   .time-desc[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:22px;text-align:left}[_nghost-%COMP%]   .user-list-wrapper[_ngcontent-%COMP%]   .grid-body[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .device-status[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-size:cover;object-fit:cover}[_nghost-%COMP%]   .create-team[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .file-image[_ngcontent-%COMP%]{border-radius:4px}[_nghost-%COMP%]   .file-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .bg-active[_ngcontent-%COMP%]{background:#bae7ff!important}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]{background-color:#fff;width:50rem;height:68.75rem;padding:3.75rem;box-sizing:border-box;border-radius:.75rem}.polymorpheus[_ngcontent-%COMP%]{padding:2.5rem 10.375rem}[_nghost-%COMP%]   [_ngcontent-%COMP%]:ng-deep   nz-upload-list[_ngcontent-%COMP%]   .ant-upload-list-item-info[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   [_ngcontent-%COMP%]:ng-deep   iframe[_ngcontent-%COMP%]{pointer-events:unset!important}iframe[_ngcontent-%COMP%]{pointer-events:unset!important}"]})}return a})()}}]);