import { inject } from '@angular/core';
import { Router } from '@angular/router';
import { LocalStorageService, LocalStoreEnum, } from '@hub-center/hub-service/storage';
export const authGuard = (route, state) => {
    const router = inject(Router);
    const localStorageService = inject(LocalStorageService);
    const accessToken = localStorageService.getItem(LocalStoreEnum.ACCESS_TOKEN);
    const currentUser = JSON.parse(localStorageService.getItem(LocalStoreEnum.CUSTOMER_KEY));
    if (currentUser && accessToken) {
        return true;
    }
    localStorageService.removeItem(LocalStoreEnum.ACCESS_TOKEN);
    localStorageService.removeItem(LocalStoreEnum.CUSTOMER_KEY);
    router.navigate(['/login'], {
        queryParams: { returnUrl: state.url },
    });
    return false;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aC5ndWFyZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvaHViLXNlcnZpY2UvZ3VhcmQvc3JjL2xpYi9hdXRoLmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkMsT0FBTyxFQUFpQixNQUFNLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN4RCxPQUFPLEVBQ0wsbUJBQW1CLEVBQ25CLGNBQWMsR0FDZixNQUFNLGlDQUFpQyxDQUFDO0FBRXpDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBa0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7SUFDdkQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlCLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDeEQsTUFBTSxXQUFXLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM3RSxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUM1QixtQkFBbUIsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUN6RCxDQUFDO0lBRUYsSUFBSSxXQUFXLElBQUksV0FBVyxFQUFFO1FBQzlCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzVELG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDNUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQzFCLFdBQVcsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFO0tBQ3RDLENBQUMsQ0FBQztJQUVILE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYW5BY3RpdmF0ZUZuLCBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHtcbiAgTG9jYWxTdG9yYWdlU2VydmljZSxcbiAgTG9jYWxTdG9yZUVudW0sXG59IGZyb20gJ0BodWItY2VudGVyL2h1Yi1zZXJ2aWNlL3N0b3JhZ2UnO1xuXG5leHBvcnQgY29uc3QgYXV0aEd1YXJkOiBDYW5BY3RpdmF0ZUZuID0gKHJvdXRlLCBzdGF0ZSkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSBpbmplY3QoUm91dGVyKTtcbiAgY29uc3QgbG9jYWxTdG9yYWdlU2VydmljZSA9IGluamVjdChMb2NhbFN0b3JhZ2VTZXJ2aWNlKTtcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldEl0ZW0oTG9jYWxTdG9yZUVudW0uQUNDRVNTX1RPS0VOKTtcbiAgY29uc3QgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKFxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0SXRlbShMb2NhbFN0b3JlRW51bS5DVVNUT01FUl9LRVkpXG4gICk7XG5cbiAgaWYgKGN1cnJlbnRVc2VyICYmIGFjY2Vzc1Rva2VuKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUl0ZW0oTG9jYWxTdG9yZUVudW0uQUNDRVNTX1RPS0VOKTtcbiAgbG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmVJdGVtKExvY2FsU3RvcmVFbnVtLkNVU1RPTUVSX0tFWSk7XG4gIHJvdXRlci5uYXZpZ2F0ZShbJy9sb2dpbiddLCB7XG4gICAgcXVlcnlQYXJhbXM6IHsgcmV0dXJuVXJsOiBzdGF0ZS51cmwgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==