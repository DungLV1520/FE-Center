{"version":3,"file":"hub-center-hub-service-api-user.mjs","sources":["../../../../../libs/hub-service/api-user/src/lib/api-user.service.ts","../../../../../libs/hub-service/api-user/src/hub-center-hub-service-api-user.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Subject, map } from 'rxjs';\nimport { ILoginReq, Environment } from '@hub-center/hub-model';\nimport { LocalStoreEnum } from '@hub-center/hub-service/storage';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApiUserService {\n  hubBackendApiEndpoint: string;\n  breadCrumb = new Subject<string[]>();\n  breadCrumb$ = this.breadCrumb.asObservable();\n  addRegion = new Subject<boolean>();\n  addRegion$ = this.addRegion.asObservable();\n  addFolder = new Subject<boolean>();\n  addFolder$ = this.addFolder.asObservable();\n\n  constructor(private http: HttpClient, private environment: Environment) {\n    this.hubBackendApiEndpoint = this.environment.hubBackendApiEndpoint;\n  }\n\n  login(user: ILoginReq) {\n    return this.http.post(this.hubBackendApiEndpoint + `auth/login`, user).pipe(\n      map((res: any) => {\n        if (res?.result?.ok) {\n          localStorage.setItem(\n            LocalStoreEnum.CUSTOMER_KEY,\n            JSON.stringify(res.data.user)\n          );\n\n          localStorage.setItem(\n            LocalStoreEnum.ACCESS_TOKEN,\n            res.data.accessToken\n          );\n        }\n\n        return res;\n      })\n    );\n  }\n\n  getListDevice() {\n    return this.http.get(this.hubBackendApiEndpoint + `device/get-list`);\n  }\n\n  getDeviceByRegionID(params: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `device/search`, params);\n  }\n\n  getListRegion() {\n    return this.http.get(this.hubBackendApiEndpoint + `region/list`);\n  }\n\n  getListFolder() {\n    return this.http.get(this.hubBackendApiEndpoint + `folder/list`);\n  }\n\n  getListFile(obj: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `document/search`, obj);\n  }\n\n  createSlidePresentation(obj: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `schedule/create`, obj);\n  }\n\n  viewDetailSlidePresentation(obj: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `schedule/detail`, obj);\n  }\n\n  getAllFiles() {\n    return this.http.get(this.hubBackendApiEndpoint + `document`);\n  }\n\n  getListPresentationSlide(obj: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `schedule/search`, obj);\n  }\n\n  deleteDevice(id: string) {\n    return this.http.delete(this.hubBackendApiEndpoint + `device/delete`, {\n      params: { ids: [id] },\n    });\n  }\n\n  moveDevice(data: any) {\n    return this.http.put(this.hubBackendApiEndpoint + `device/move`, data);\n  }\n\n  renameDevice(params: any) {\n    return this.http.put(this.hubBackendApiEndpoint + `device/rename`, params);\n  }\n\n  getInfoDevice(params: any) {\n    return this.http.get(this.hubBackendApiEndpoint + `device/${params}`);\n  }\n\n  renameFile(id: any, data: any) {\n    return this.http.put(\n      this.hubBackendApiEndpoint + `document/update/${id}`,\n      data\n    );\n  }\n\n  moveFile(data: any) {\n    return this.http.put(this.hubBackendApiEndpoint + `document/move`, data);\n  }\n\n  deleteFile(id: any) {\n    return this.http.delete(this.hubBackendApiEndpoint + `document/delete`, {\n      params: { ids: [id] },\n    });\n  }\n\n  deletePresentationSlide(id: any) {\n    return this.http.delete(this.hubBackendApiEndpoint + `schedule/${id}`);\n  }\n\n  uploadFile(data: any) {\n    return this.http.post<any>(this.hubBackendApiEndpoint + `document`, data, {\n      headers: new HttpHeaders({\n        Accept: 'application/json',\n      }),\n    });\n  }\n\n  getScheduleDetail(deviceId: string) {\n    return this.http.post(this.hubBackendApiEndpoint + `schedule/detail`, {\n      deviceId,\n    });\n  }\n\n  applyScheduleToDevice(data: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `schedule/apply`, data);\n  }\n\n  createRegion(data: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `region/create`, data);\n  }\n\n  createFolder(data: any) {\n    return this.http.post(this.hubBackendApiEndpoint + `folder/create`, data);\n  }\n\n  sendData(data: string[]): void {\n    this.breadCrumb.next(data);\n  }\n\n  sendRegion(data: boolean): void {\n    this.addRegion.next(data);\n  }\n\n  sendFolder(data: boolean): void {\n    this.addFolder.next(data);\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}